# -*- coding:gb2312 -*-

from numpy import *

adj = zeros([258, 258], int)

# 中心性指标集合,格式:[度中心性,介数中心性,接近中心性]
# train
X_train = [[29, 0.20089716941995484, 0.5833333333333334], [2, 0.0, 0.3727810650887574],
           [27, 0.16427966506051503, 0.5727272727272728], [10, 0.0, 0.44999999999999996],
           [10, 0.0, 0.44999999999999996], [7, 0.03137224043522047, 0.4344827586206897], [22, 0.13705370000812914, 0.5],
           [6, 0.006466523747629736, 0.3987341772151899], [4, 0.0, 0.38888888888888884],
           [18, 0.04693460914659071, 0.47368421052631576], [10, 0.0, 0.40909090909090906],
           [10, 0.0, 0.40909090909090906], [10, 0.0, 0.40909090909090906],
           [11, 0.006739607891681621, 0.411764705882353], [11, 0.026380659790798035, 0.411764705882353],
           [16, 0.030028554798140056, 0.4666666666666667], [15, 0.09002491080064044, 0.47368421052631576],
           [16, 0.11891971720440744, 0.4809160305343511], [8, 0.0754137681173011, 0.4012738853503185],
           [11, 0.007268427084095287, 0.4632352941176471], [12, 0.013148488878135576, 0.47368421052631576],
           [14, 0.12616081681621874, 0.49606299212598426], [12, 0.027005120668715132, 0.4598540145985402],
           [11, 0.13772902712994878, 0.48837209302325585], [17, 0.03246839779097843, 0.5080645161290323],
           [10, 0.0030872694467164513, 0.44680851063829785], [4, 0.0, 0.39622641509433965],
           [8, 0.0, 0.42857142857142855], [10, 0.0, 0.40909090909090906], [13, 0.08407838108298937, 0.4532374100719424],
           [6, 0.00881147071623262, 0.3684210526315789], [2, 5.76036866359447E-4, 0.3333333333333333],
           [2, 2.0115573110964812E-4, 0.34054054054054056], [2, 0.0, 0.34054054054054056], [1, 0.0, 0.3351063829787234],
           [6, 0.02380505368216581, 0.35593220338983056], [2, 0.0, 0.33689839572192515], [1, 0.0, 0.32307692307692304],
           [2, 6.400409626216078E-4, 0.30582524271844663], [5, 8.960573476702509E-4, 0.35593220338983056],
           [5, 8.960573476702509E-4, 0.35593220338983056], [1, 0.0, 0.32307692307692304], [1, 0.0, 0.32307692307692304],
           [5, 0.014277586781427022, 0.375], [3, 0.020199023322423227, 0.36627906976744184],
           [1, 0.0, 0.32642487046632124], [4, 0.0, 0.2971698113207547], [4, 0.0, 0.2971698113207547],
           [4, 0.0, 0.2971698113207547], [11, 0.2296569891295954, 0.43150684931506844], [3, 0.0, 0.3387096774193548],
           [5, 0.012924486618803055, 0.3620689655172414], [1, 0.0, 0.3333333333333333], [2, 0.0, 0.315],
           [2, 0.0, 0.315], [8, 0.04687338245965997, 0.32307692307692304], [5, 0.0, 0.2490118577075099],
           [1, 0.0, 0.24513618677042803], [6, 0.005076329244275992, 0.315], [6, 0.005076329244275992, 0.315],
           [6, 0.005076329244275992, 0.315], [6, 0.005076329244275992, 0.315], [2, 0.0, 0.3073170731707317],
           [1, 0.0, 0.3028846153846154]]
# les
X_les = [[10, 0.17684210526315788, 0.4293785310734463], [1, 0.0, 0.30158730158730157], [3, 0.0, 0.41304347826086957],
         [3, 0.0, 0.41304347826086957], [1, 0.0, 0.30158730158730157], [1, 0.0, 0.30158730158730157],
         [1, 0.0, 0.30158730158730157], [1, 0.0, 0.30158730158730157], [1, 0.0, 0.30158730158730157],
         [1, 0.0, 0.30158730158730157], [1, 0.0, 0.39378238341968913], [36, 0.5699890527836184, 0.6440677966101696],
         [2, 0.0, 0.41304347826086957], [1, 0.0, 0.39378238341968913], [1, 0.0, 0.39378238341968913],
         [1, 0.0, 0.39378238341968913], [9, 0.040629348177335795, 0.3917525773195876], [7, 0.0, 0.34080717488789236],
         [7, 0.0, 0.34080717488789236], [7, 0.0, 0.34080717488789236], [7, 0.0, 0.34080717488789236],
         [7, 0.0, 0.34080717488789236], [7, 0.0, 0.34080717488789236], [15, 0.12964454098819425, 0.46060606060606063],
         [11, 0.029002418730461763, 0.46060606060606063], [16, 0.07490122123424225, 0.5170068027210885],
         [11, 0.02379625345414819, 0.4779874213836478], [17, 0.05433155966478436, 0.5170068027210885],
         [4, 0.026491228070175437, 0.4021164021164021], [8, 0.008040935672514621, 0.42696629213483145],
         [2, 0.0, 0.3179916317991632], [4, 0.008640295033483888, 0.41758241758241754], [1, 0.0, 0.39378238341968913],
         [2, 0.0, 0.39583333333333337], [6, 0.0, 0.40425531914893614], [6, 0.0, 0.40425531914893614],
         [6, 0.0, 0.40425531914893614], [6, 0.0, 0.40425531914893614], [6, 0.0, 0.40425531914893614],
         [3, 0.006925438596491229, 0.37254901960784315], [1, 0.0, 0.34234234234234234],
         [11, 0.011487550654163004, 0.39583333333333337], [3, 0.0, 0.35185185185185186], [3, 0.0, 0.4021164021164021],
         [2, 0.0, 0.3979057591623037], [1, 0.0, 0.28787878787878785], [1, 0.0, 0.25675675675675674],
         [2, 0.02631578947368421, 0.3438914027149321], [22, 0.16511250242584768, 0.5135135135135135],
         [7, 0.02021062158319776, 0.4418604651162791], [2, 2.1720969089390142E-4, 0.33480176211453744],
         [7, 0.04759892787524368, 0.4418604651162791], [2, 3.508771929824561E-4, 0.3153526970954357],
         [1, 0.0, 0.3076923076923077], [4, 0.0, 0.36538461538461536], [19, 0.132032488621946, 0.5314685314685315],
         [2, 0.0, 0.35185185185185186], [11, 0.027661236424394317, 0.39583333333333337],
         [15, 0.042553356822177105, 0.4810126582278481], [11, 0.0012501455659350395, 0.3917525773195876],
         [9, 0.0, 0.3568075117370892], [11, 0.0012501455659350395, 0.3917525773195876], [13, 0.00526702988198833, 0.4],
         [12, 0.0021854883087570067, 0.39378238341968913], [13, 0.030753650179957823, 0.47500000000000003],
         [12, 0.0021854883087570067, 0.39378238341968913], [10, 1.5037593984962405E-4, 0.3584905660377359],
         [1, 0.0, 0.28464419475655434], [10, 0.004960383978389518, 0.46341463414634143],
         [10, 0.004960383978389518, 0.46341463414634143], [10, 0.00486180419559921, 0.45238095238095233],
         [9, 0.003873829873829873, 0.45783132530120485], [3, 0.0, 0.4021164021164021], [2, 0.0, 0.34234234234234234],
         [2, 0.0, 0.34234234234234234], [7, 4.385964912280702E-4, 0.37999999999999995], [7, 0.0, 0.35348837209302325]]
# company
X_com = [[1, 0.00000000000, 0], [7, 0.00011293055, 1], [7, 0.00022586110, 0.666666667], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.666666667], [2, 0.00005646527, 0.5], [9, 0.00016939582, 1],
         [7, 0.00033879164, 0.666666667], [3, 0.00007528703, 0.666666667], [3, 0.00003764352, 1],
         [6, 0.00018821758, 0.666666667], [5, 0.00022586110, 1], [17, 0.00000000000, 0], [1, 0.00000000000, 0.5],
         [7, 0.00033879164, 0.5], [21, 0.00067758329, 1], [2, 0.00005646527, 0.5], [9, 0.00018821758, 1],
         [2, 0.00003764352, 0.666666667], [2, 0.00003764352, 0.666666667], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.5], [2, 0.00005646527, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [4, 0.00016939582, 0.5], [8, 0.00105401845, 0.666666667], [1, 0.00000000000, 0.5],
         [3, 0.00007528703, 0.666666667], [1, 0.0000000, 0.4], [4, 0.00005646527, 1], [1, 0.00000000000, 0.4],
         [6, 0.00018821758, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 1],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.5], [5, 0.00022586110, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.4], [7, 0.00011293055, 1], [2, 0.00003764352, 0.666666667],
         [4, 0.00011293055, 0.666666667], [6, 0.00018821758, 0.666666667], [1, 0.00000000000, 0.4],
         [2, 0.00003764352, 0.666666667], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5], [4, 0.00011293055, 0.666666667],
         [1, 0.00000000000, 0.5], [2, 0.00003764352, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [2, 0.00003764352, 0.666666667],
         [4, 0.00011293055, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.5], [3, 0.00011293055, 0.5], [1, 0.00000000000, 0.4],
         [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.4], [1, 0.00000000000, 1], [1, 0.00000000000, 0.4],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.5], [6, 0.00028232637, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4],
         [1, 0.00000000000, 0.666666667], [2, 0.00003764352, 0.666666667], [1, 0.00000000000, 0.4],
         [4, 0.00016939582, 0.5], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.666666667], [7, 0.00033879164, 0.5],
         [7, 0.00022586110, 0.666666667], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.666666667],
         [4, 0.00018821758, 0.666666667], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.4],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.4],
         [1, 0.00000000000, 0.5], [8, 0.00150574064, 1], [1, 0.00000000000, 1], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 1], [3, 0.00011293055, 0.5], [1, 0.00000000000, 0.4],
         [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5], [6, 0.00028232637, 0.5], [1, 0.00000000000, 0.4],
         [10, 0.00063993977, 0.666666667], [8, 0.00026350461, 0.666666667], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5],
         [3, 0.00007528703, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.666666667],
         [1, 0.00000000000, 0.5], [4, 0.00016939582, 0.5], [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.4],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4], [3, 0.00007528703, 0.666666667],
         [7, 0.00022586110, 0.666666667], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.4], [5, 0.00041407867, 1],
         [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.666666667], [3, 0.00011293055, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 1], [7, 0.00067758329, 0.666666667],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 1], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.4],
         [1, 0.00000000000, 0.666666667], [1, 0.00000000000, 0.4], [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.5],
         [1, 0.00000000000, 0.5], [1, 0.00000000000, 0.4], [1, 0.00000000000, 1], [3, 0.00011293055, 0.5],
         [1, 0.00000000000, 0.5], [4, 0.0004893657, 1]]

X_karate = [[16, 0.437635281385281, 0.5689655172413793], [9, 0.053936688311688, 0.4852941176470588],
            [10, 0.143656806156806, 0.559322033898305], [6, 0.0119092712842712, 0.4647887323943662],
            [3, 0.0006313131313131313, 0.3793103448275862], [4, 0.029987373737373, 0.38372093023255816],
            [4, 0.0299873737373737, 0.38372093023255816], [4, 0, 0.44], [5, 0.0559268278018278, 0.515625],
            [2, 0.0008477633477633477, 0.4342105263157895], [3, 0.0006313131313131313, 0.3793103448275862],
            [1, 0, 0.36666666666666664], [2, 0, 0.3707865168539326], [5, 0.0458633958633958, 0.515625],
            [2, 0, 0.28448275862068967], [2, 0, 0.375], [3, 0.032475048100048, 0.5], [2, 0, 0.375],
            [5, 0.0176136363636363, 0.39285714285714285], [3, 0.00384048821548821, 0.375],
            [3, 0.00220959595959595, 0.375], [4, 0.0223334535834535, 0.4583333333333333],
            [3, 0.00179473304473304, 0.4520547945205479], [4, 0.00292207792207792, 0.38372093023255816],
            [2, 0, 0.3626373626373626], [4, 0.0144119769119769, 0.4583333333333333],
            [6, 0.138275613275613, 0.5409836065573771], [12, 0.1452471139971, 0.515625],
            [2, 0, 0.3707865168539326], [2, 0, 0.3707865168539326], [2, 0, 0.3707865168539326],
            [2, 0, 0.3707865168539326], [2, 0, 0.3707865168539326], [17, 0.30407497594997, 0.55], ]

X_food = [[32, 0.001279174, 0.248069498], [15, 0.022818777, 0.336828309], [15, 0.025681891, 0.34589502],
          [18, 0.005013908, 0.250243427], [7, 0.003305432, 0.280261723], [12, 0.01317994, 0.256487026],
          [16, 0.016607666, 0.292045455], [8, 0.024693956, 0.312272175], [35, 0.10284791, 0.349659864],
          [8, 0.001397205, 0.280874317], [16, 0.011884325, 0.285873192], [2, 0.00170908, 0.220600858],
          [32, 0.176671365, 0.329487179], [23, 0.005157369, 0.294050343], [5, 0.00318909, 0.201410658],
          [7, 0.024584269, 0.261444557], [4, 0.014180962, 0.214166667], [17, 0.012817193, 0.286510591],
          [2, 0, 0.246404602], [13, 0.000229, 0.241996234], [31, 0.008116044, 0.288439955],
          [4, 0.001419181, 0.266874351], [24, 0.000904, 0.245229008], [24, 0.000612, 0.244064577],
          [28, 0.011965565, 0.297453704], [9, 0.024441134, 0.280874317], [4, 0.000351, 0.252952756],
          [8, 0.003538329, 0.279956427], [37, 0.189451003, 0.353021978], [30, 0.008652788, 0.297453704],
          [2, 0.000444, 0.229669348], [3, 0.002730524, 0.237084871], [17, 0.034080366, 0.33994709],
          [7, 0.010133487, 0.311138015], [3, 0.013648104, 0.228851291], [2, 0.005161603, 0.250487329],
          [16, 0.036883366, 0.349184783], [8, 0.003422544, 0.248789932], [2, 0.005461529, 0.272823779],
          [30, 0.058338386, 0.301643192], [31, 0.003013102, 0.247115385], [32, 0.009358258, 0.298143852],
          [2, 0.000107, 0.252455796], [7, 0.019478113, 0.27664155], [11, 0.000911, 0.232368897],
          [9, 0.023235832, 0.302352941], [8, 0.003736958, 0.251221896], [11, 0.005144825, 0.283977901],
          [26, 0.278552294, 0.383010432], [7, 0.018008671, 0.323677582], [15, 0.001309094, 0.243371212],
          [7, 0.020214853, 0.2751606], [28, 0.001394495, 0.272245763], [25, 0.005860509, 0.267708333],
          [2, 0.009925585, 0.252208047], [31, 0.008859365, 0.297798378], [12, 0.101784576, 0.329065301],
          [2, 0.000167, 0.259334006], [10, 0.003862414, 0.296424452], [8, 0.005944154, 0.284606866],
          [11, 0.003972052, 0.268267223], [12, 0.002276866, 0.267708333], [4, 0.006481566, 0.309265945],
          [29, 0.001383471, 0.272823779], [11, 0.002239432, 0.27457265], [21, 0.006269705, 0.288764045],
          [33, 0.006857379, 0.259072581], [2, 0.004449272, 0.229669348], [4, 0.000474, 0.267708333],
          [2, 0.0021045, 0.249272551], [3, 0.002730524, 0.237084871], [13, 0.003127129, 0.243833017],
          [10, 0.003910756, 0.296424452], [10, 0.000555, 0.266874351], [24, 0.000738, 0.244761905],
          [29, 0.008656582, 0.295742232], [12, 0.016959559, 0.281489595], [5, 0.001208351, 0.27545552],
          [10, 0.001317031, 0.241768579], [9, 0.000314, 0.222510823], [34, 0.012676644, 0.298490128],
          [6, 0.011195773, 0.190088757], [4, 0.000756, 0.246878002], [14, 0.005060803, 0.276939655],
          [33, 0.015011707, 0.299883314], [19, 0.000901, 0.24245283], [11, 0.006150778, 0.177731674],
          [5, 0.00318909, 0.201410658], [28, 0.007468654, 0.296766744], [12, 0.021022666, 0.287472036],
          [5, 0.015110887, 0.295402299], [2, 0.004395128, 0.292377702], [6, 0.100381535, 0.319651741],
          [3, 0.001728654, 0.250243427], [15, 0.000241, 0.239962652], [8, 0.010270535, 0.308894231],
          [7, 0.010460157, 0.321652065], [16, 0.000271, 0.2404116], [10, 0.014697567, 0.318069307],
          [9, 0.012934462, 0.246641075], [2, 0.0000363, 0.204455052], [9, 0.012746171, 0.271383316],
          [19, 0.013715384, 0.290723982], [13, 0.03063532, 0.287150838], [19, 0.005375778, 0.25146771],
          [19, 0.034083736, 0.308894231], [10, 0.001636757, 0.177486188], [3, 0.103661051, 0.309638554],
          [4, 0.009981626, 0.260385005], [11, 0.000443, 0.223284101], [18, 0.009893021, 0.297453704],
          [25, 0.007237298, 0.293714286], [11, 0.021517346, 0.255721393], [4, 0.00753875, 0.221742882],
          [22, 0.042497516, 0.291713961], [18, 0.004761898, 0.285238624], [5, 0.018779479, 0.278138528],
          [13, 0.002689688, 0.287793953], [2, 0.007413014, 0.265495868], [3, 0.010042633, 0.203322785],
          [5, 0.001714655, 0.260649087], [7, 0.001020079, 0.240636704], [6, 0.004477563, 0.292710706],
          [5, 0.00318909, 0.201410658], [9, 0.003931038, 0.280567686], [2, 0.0000244, 0.263319672],
          [10, 0.008662734, 0.285555556], [15, 0.002701623, 0.237523105], [32, 0.013925475, 0.299185099],
          [5, 0.006012596, 0.279651795], [8, 0.004450162, 0.272245763], [8, 0.007551393, 0.311138015],
          [25, 0.03704241, 0.281181619], [2, 0.00178305, 0.209795918], [3, 0.000838, 0.221170396],
          [5, 0.003111418, 0.27545552], [14, 0.000162, 0.23664825], [28, 0.007525202, 0.295402299],
          [9, 0.00079, 0.240186916], [29, 0.080230775, 0.295402299], [29, 0.006943634, 0.288116592],
          [3, 0.003423537, 0.259334006], [13, 0.002424208, 0.24783028], [11, 0.0000716, 0.242681775],
          [23, 0.002004461, 0.254960317], [19, 0.001307845, 0.243140965], [3, 0.00097, 0.278138528],
          [22, 0.000563, 0.243140965], [30, 0.008428493, 0.297453704], [12, 0.001669585, 0.238183503],
          [19, 0.000379, 0.241768579], [7, 0.020232645, 0.332901554], [7, 0.002090012, 0.269109948],
          [4, 0.000869, 0.242224317], [3, 0.000034, 0.192653673], [9, 0.000414, 0.269392034],
          [20, 0.000594, 0.24452902], [9, 0.000717, 0.231949458], [25, 0.000778, 0.244995234],
          [9, 0.000264, 0.236213235], [13, 0.007497789, 0.2751606], [7, 0.000157, 0.221742882],
          [29, 0.006812586, 0.288439955], [15, 0.003483245, 0.249272551], [10, 0.00041, 0.222896791],
          [3, 0.004337112, 0.314565483], [5, 0.008948974, 0.250976563], [5, 0.00318909, 0.201410658],
          [7, 0.016897317, 0.284606866], [7, 0.02820383, 0.284292035], [5, 0.00318909, 0.201410658],
          [31, 0.008596256, 0.297798378], [1, 0, 0.259334006], [5, 0.00541984, 0.229055258],
          [6, 0.0027584, 0.283664459], [25, 0.006326458, 0.294050343], [4, 0.011663114, 0.316892725],
          [6, 0.000785, 0.240186916], [14, 0.002361672, 0.267708333], [15, 0.009166338, 0.277238403],
          [17, 0.013878548, 0.281489595], [4, 0.000697, 0.164849262], [26, 0.001818807, 0.245463228],
          [24, 0.006008939, 0.293714286], [2, 0.002157903, 0.243140965], [14, 0.000911, 0.239738806],
          [23, 0.005232732, 0.285555556], [15, 0.000195, 0.239962652], [3, 0.000338, 0.26386037],
          [5, 0.011636095, 0.264675592], [2, 0.002998325, 0.26659751], [2, 0.000846, 0.292045455],
          [4, 0.010604407, 0.297453704], [10, 0.093593568, 0.245933014], [4, 0.004203113, 0.237523105],
          [10, 0.00582213, 0.27167019], [6, 0.013197102, 0.32408575], [25, 0.00220011, 0.245933014],
          [28, 0.007669523, 0.286191537], [3, 0.008646125, 0.183178902], [13, 0.007317328, 0.2751606],
          [6, 0.005261153, 0.236430543], [5, 0.004403592, 0.228647687], [8, 0.002674944, 0.294050343],
          [6, 0.000313, 0.231531532], [2, 0, 0.289088864], [6, 0.002248214, 0.287793953], [5, 0.014205925, 0.286191537],
          [2, 0.000437, 0.21779661], [25, 0.001107408, 0.271383316], [8, 0.020880294, 0.284606866], [1, 0, 0.221742882],
          [4, 0.003317291, 0.237303786], [27, 0.007800135, 0.294387171], [2, 0.004159037, 0.211175021],
          [27, 0.007662471, 0.295742232], [2, 0.000291, 0.220600858], [6, 0.010477558, 0.332041344],
          [26, 0.002056826, 0.245933014], [11, 0.000785, 0.24108818], [4, 0.012937631, 0.306682578],
          [11, 0.001303219, 0.235779817], [11, 0.000443, 0.223284101], [2, 0.0000239, 0.210828548],
          [5, 0.00318909, 0.201410658], [16, 0.000821, 0.2404116], [3, 0.013464356, 0.269392034],
          [20, 0.000396, 0.242224317], [10, 0.010258381, 0.283351709], [5, 0.00318909, 0.201410658],
          [18, 0.011631104, 0.272534464], [2, 0.001262296, 0.264403292], [11, 0.008948349, 0.264675592],
          [3, 0.005301128, 0.252208047], [20, 0.00051, 0.242224317], [5, 0.001008637, 0.241768579],
          [3, 0.001734879, 0.273113709], [9, 0.000219, 0.17259906], [6, 0.008502871, 0.205764612],
          [3, 0.00014, 0.204780876], [2, 0.002287756, 0.232158988], [24, 0.004491198, 0.269957983],
          [16, 0.00021, 0.241768579], [13, 0.006793828, 0.270241851], [13, 0.008391041, 0.283977901],
          [9, 0.002266281, 0.278741866], [2, 0.0000279, 0.223090278], [20, 0.015077026, 0.27486631],
          [10, 0.001636757, 0.177486188], [5, 0.00318909, 0.201410658], [2, 0.0000363, 0.204455052],
          [3, 0.001359653, 0.312272175], [6, 0.000362, 0.23342416], [2, 0.001262296, 0.264403292],
          [6, 0.003909262, 0.240636704], [13, 0.002020428, 0.242911153], [12, 0.001896253, 0.24245283],
          [8, 0.010965104, 0.313414634]]

std_dc_train = 6.21  # 度中心性标准差
std_dc_les = 6.04
std_dc_com = 2.52
std_dc_karate = 3.877812935
std_dc_food = 9.124511979

std_bc_train = 0.052216244  # 介数中心性标准差
std_bc_les = 0.073
std_bc_com = 0.0002
std_bc_karate = 0.093934651
std_bc_food = 0.027708158

a = 0.1  # 影响因子(自行设定)
r1 = 0.51
r2 = 0.4
r3 = 0.3


# 构建邻接矩阵
def init_adj():
    f = open("../data/food.txt", 'r')
    error = 0
    for line in f.readlines():
        s = line.split('\r')
        for tmp in s:
            tmp = tmp.split(' ')
            try:
                adj[int(tmp[0])][int(tmp[1])] = 1
                adj[int(tmp[1])][int(tmp[0])] = 1
            except:
                error += 1
    print 'failed lines count: ' + str(error)


# 写入度数以及邻接矩阵
def write():
    out_degree = open("../degree.txt", 'w')
    out_adj = open("../adjmatrix.txt", 'w')
    count = 0
    for i in adj:
        degree = 0
        for j in i:
            out_adj.write(str(j) + ' ')
            if j != 0:
                degree += 1
        out_adj.write('\n')
        out_degree.write(str(count) + ' ' + str(degree) + '\n')
        count += 1


# 写入加权度
def weighted_degree():
    out_weighted_degree = open("../weighted_degree.txt", 'w')
    count = 0
    for i in adj:
        degree = 0
        for j in i:
            if j != 0:
                degree += j
        out_weighted_degree.write(str(count) + ' ' + str(degree) + '\n')
        count += 1


# 隐蔽中心性计算
def covertness_centrality():
    out = open("../covertness_centrality_food.csv", 'w')
    for i in range(258):
        if (commonness(i) == 0):
            cc1 = 0
            cc2 = 0
            cc3 = 0
        else:
            cc1 = r1 * commonness(i) + (1 - r1) * communication_potential(i)
            cc2 = r2 * commonness(i) + (1 - r2) * communication_potential(i)
            cc3 = r3 * commonness(i) + (1 - r3) * communication_potential(i)
        out.write(
            str(commonness(i)) + ',' + str(communication_potential(i)) + ',' + str(cc1) + ',' + str(cc2) + ',' + str(
                cc3) + '\n')
    return 0


# CM计算
def commonness(v):
    count = 0
    for i in X_food:
        if abs(i[0] - X_food[v][0]) <= std_dc_food * a and abs(i[1] - X_food[v][1]) <= std_bc_food * a:
            count += 1
    cm = round((count - 1) / 257.000, 3)
    return cm


# CP计算
def communication_potential(v):
    cp = X_food[v][2]
    return round(cp, 3)


if __name__ == "__main__":
    init_adj()
    covertness_centrality()
    # write()
    # weighted_degree()
